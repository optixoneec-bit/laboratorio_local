{% extends "base.html" %}
{% block title %}Lista de resultados{% endblock %}

{% block content %}
<!-- Filtros -->
<div class="card filtros">
  <div class="card-body">
    <div class="grid">
      <div class="col-3"><label class="label">Desde</label><input type="date" class="input"/></div>
      <div class="col-3"><label class="label">Hasta</label><input type="date" class="input"/></div>
      <div class="col-3"><label class="label">Buscar: Orden</label><input type="search" class="input" placeholder="Buscar número de orden"/></div>
      <div class="col-3"><label class="label">Buscar: cédula o nombre</label><input type="search" class="input" placeholder="Buscar paciente"/></div>
    </div>
  </div>
</div>

<!-- Lista -->
<div id="ordenContainer" class="card lista">
  <div class="list-head">
    <span class="list-title">Lista de resultados</span>
    <div class="list-right">
      <span class="list-count">{{ ordenes.count }} registro(s) encontrados</span>
    </div>
  </div>

  <div id="ordenList" class="list-body">
    {% for orden in ordenes %}
    <div class="item">
      <div class="indice">{{ orden.numero_orden }}</div>
      <div class="item-body">
        <div class="nombre">{{ orden.paciente.nombre_completo }}</div>
        <div class="row-meta">
          <div class="meta">📅 {{ orden.fecha|date:"d/m/Y H:i" }}</div>
          <div class="meta">🆔 {{ orden.paciente.documento_identidad }}</div>
        </div>
        <div class="acciones">
          <a href="{% url 'detalle_orden' orden.id %}" class="action revisar">👁 Revisar</a>
          <a href="{% url 'orden_pdf' orden.id %}" class="action pdf">📄 PDF</a>
        </div>
      </div>
    </div>
    {% empty %}
    <p class="text-center py-4 text-muted">No hay órdenes registradas.</p>
    {% endfor %}
  </div>
</div>
{% endblock %}
