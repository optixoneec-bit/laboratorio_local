<!-- MODAL: Nueva Orden -->
<form id="formNuevaOrden" method="post" class="slx-form">
  {% csrf_token %}

  <div class="slx-grid">
    <!-- ===================== COLUMNA IZQUIERDA ===================== -->
    <aside class="slx-panel slx-left">
      <header class="slx-title">Datos del paciente</header>

      <div class="slx-subhead">Datos del paciente</div>
      <div class="slx-btn-row">
        <button type="button" class="slx-new-patient">+ Nuevo Paciente</button>
      </div>

      <div class="slx-block">
        <label class="slx-label">C√©dula:<span class="slx-req">*</span></label>
        <div class="slx-searchrow">
          <input type="text" name="documento_identidad" class="slx-input" placeholder="C√©dula" required>
          <button type="button" class="slx-iconbtn" aria-label="Buscar">üîç</button>
        </div>
      </div>

      <div class="slx-block">
        <label class="slx-label">Nombre completo:<span class="slx-req">*</span></label>
        <input type="text" name="nombre_completo" class="slx-input" placeholder="Nombre del paciente" required>
      </div>

      <!-- Espacio reservado para futura informaci√≥n -->
      <div class="slx-placeholder"></div>

      <div class="slx-block">
        <div class="slx-mini">Datos de entrega</div>
        <div class="slx-priority">
          <label class="slx-pri">
            <input type="radio" name="tipo" value="Urgente">
            <span>Urgente</span>
          </label>
          <span class="slx-sep"></span>
          <label class="slx-pri">
            <input type="radio" name="tipo" value="Prioridad">
            <span>Prioridad</span>
          </label>
          <span class="slx-sep"></span>
          <label class="slx-pri">
            <input type="radio" name="tipo" value="Rutina" checked>
            <span>Rutina</span>
          </label>
        </div>
      </div>

      <div class="slx-block">
        <label class="slx-label">M√©dico solicitante</label>
        <input type="text" name="medico" class="slx-input" placeholder="Nombre del m√©dico">
      </div>
    </aside>

    <!-- ===================== COLUMNA DERECHA ===================== -->
    <section class="slx-panel slx-right">
      <header class="slx-title">Informaci√≥n de la orden</header>

      <div class="slx-searchbar">
        <div class="slx-lupa">üîé</div>
        <input type="text" class="slx-input slx-input--search" placeholder="Buscar An√°lisis">
        <div class="slx-mini-actions">
          <button type="button" class="slx-mini-btn">PERFILES</button>
          <button type="button" class="slx-mini-btn">POR. GENERAL</button>
        </div>
      </div>

      <div class="slx-tablewrap">
        <div class="slx-thead">
          <div>Bacalao</div>
          <div>An√°lisis</div>
          <div>Estado</div>
          <div>V. Paciente</div>
          <div>V. Pospago</div>
        </div>
        <div class="slx-tbody">
          <div class="slx-empty">No existen ex√°menes agregados</div>
        </div>
        <div class="slx-totalrow">
          <div class="slx-totalspace"></div>
          <div class="slx-total">
            <span>Total:</span>
            <strong>$0.00</strong>
          </div>
        </div>
      </div>

      <div class="slx-foot">
        <div class="slx-foot-title">Generalidades</div>

        <div class="slx-cta">
          <button type="button" id="slxObs" class="slx-big slx-big--blue">
            <span class="slx-big-ico">üëÅ</span> Observaciones
          </button>
          <button type="submit" class="slx-big slx-big--green">
            <span class="slx-big-ico">üíæ</span> Guardar
          </button>
          <button type="reset" class="slx-big slx-big--red">
            <span class="slx-big-ico">üóë</span> Limpiar
          </button>
        </div>

        <div id="slxObsArea" class="slx-obs" hidden>
          <textarea class="slx-input" name="observaciones" rows="3" placeholder="Escribe observaciones‚Ä¶"></textarea>
        </div>
      </div>
    </section>
  </div>
</form>

<style>
:root{
  --slx-blue:#2d7bd8;
  --slx-cyan:#29a7a4;
  --slx-border:#e3e6ea;
  --slx-bg:#fff;
  --slx-red:#e85a5e;
  --slx-green:#cdeedd;
  --slx-purple:#4b4bf7;
}

/* Tama√±o de burbuja (ajuste total) */
.modal-dialog {
  max-width: 1050px !important;
  width: 95vw !important;
  margin: 2vh auto;
}
.modal-content {
  display: block;
  width: 100%;
  height: auto;
  max-height: 90vh;
  overflow-y: auto;
  border-radius: 12px;
}

/* Estructura */
.slx-form{font-family:Segoe UI, sans-serif;color:#222;}
.slx-grid{display:grid;grid-template-columns:320px 1fr;gap:18px;}
.slx-panel{background:var(--slx-bg);border:1px solid var(--slx-border);border-radius:10px;padding:14px;}
.slx-title{background:var(--slx-blue);color:#fff;font-weight:700;padding:10px;border-radius:6px;margin-bottom:8px;text-transform:uppercase;}
.slx-subhead{font-size:.9rem;color:#444;margin-bottom:6px;}
.slx-btn-row{text-align:center;margin-bottom:10px;}
.slx-new-patient{background:var(--slx-purple);color:#fff;font-weight:600;padding:7px 14px;border-radius:6px;border:0;cursor:pointer;font-size:.9rem;}
.slx-new-patient:hover{background:#3737f8;}
.slx-placeholder{height:45px;border:1px dashed #ccc;border-radius:8px;background:#f9f9f9;margin-bottom:10px;}
.slx-block{margin-bottom:10px;}
.slx-label{font-size:.9rem;margin-bottom:4px;display:block;}
.slx-req{color:#e11d48;margin-left:3px;}
.slx-input{width:100%;border:1px solid var(--slx-border);border-radius:8px;padding:8px;font-size:.9rem;}
.slx-searchrow{display:flex;gap:6px;}
.slx-iconbtn{border:1px solid var(--slx-border);border-radius:8px;background:#fff;padding:0 10px;cursor:pointer;}
.slx-priority{display:flex;align-items:center;gap:0;background:#f3f5f7;border:1px solid var(--slx-border);border-radius:10px;padding:4px 8px;}
.slx-pri{display:flex;align-items:center;gap:4px;padding:4px 8px;font-size:.85rem;}
.slx-pri input{accent-color:var(--slx-blue);}
.slx-sep{width:1px;height:16px;background:#d9dde3;}
.slx-right{display:flex;flex-direction:column;}
.slx-searchbar{display:flex;align-items:center;gap:6px;margin-bottom:8px;}
.slx-mini-btn{border:1px solid #b6cdf7;background:#eff5ff;color:#2c59b9;padding:6px 8px;border-radius:8px;font-weight:600;font-size:.8rem;cursor:pointer;}
.slx-tablewrap{border:1px solid var(--slx-border);border-radius:8px;overflow:hidden;}
.slx-thead{display:grid;grid-template-columns:100px 1fr 100px 100px 100px;background:var(--slx-cyan);color:#fff;font-weight:700;font-size:.85rem;}
.slx-thead>div{padding:6px 8px;border-right:1px solid rgba(255,255,255,.25);}
.slx-empty{padding:12px;color:#8e98a7;font-size:.85rem;}
.slx-totalrow{display:grid;grid-template-columns:1fr 220px;border-top:1px solid var(--slx-border);}
.slx-total{display:flex;justify-content:flex-end;gap:6px;align-items:center;padding:8px;font-weight:700;font-size:.9rem;}
.slx-foot-title{background:#2d7bd8;color:#fff;padding:8px;border-radius:6px;font-weight:700;margin:12px 0 8px;font-size:.9rem;}
.slx-cta{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px;}
.slx-big{display:flex;align-items:center;justify-content:center;gap:8px;border-radius:10px;padding:12px 0;font-size:.9rem;font-weight:700;border:0;cursor:pointer;}
.slx-big--blue{background:#4b5cf6;color:#fff;}
.slx-big--green{background:var(--slx-green);color:#176e4a;}
.slx-big--red{background:#ef696d;color:#fff;}
</style>

<script>
(function(){
  const btn=document.getElementById('slxObs');
  const area=document.getElementById('slxObsArea');
  if(btn&&area){
    btn.addEventListener('click',()=>area.toggleAttribute('hidden'));
  }
})();
</script>
